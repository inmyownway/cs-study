# 프로그램이란?
윈도우의 exe 파일 , mac의 dmg 파일과 같은 컴픁에서실행할수있는 파일을 말합니다.

# 프로세스란?
프로세스(process)란 실행중에 있는 프로그램(Program)을 의미한다.
실행되고 있는 프로그램으로, 프로세스는 각 메모리 공간을 시스템으로부터 할당 받습니다.
하드디스크에 있는 프로그램을 실행하면, 실행을 위해서 메모리 할당이 이루어지고, 할당된 메모리 공간으로 바이너리 코드가 올라가게 된다. 이 순간부터 프로세스라 불린다. 
질문( 프로세스 쓰레드 차이) 

  ## 프로세스의 5가지 상태
  - New(생성)
  생성되었지만, 운영체제에 의해 수행 가능한 프로세스 풀로의 진입이 아직 허용되지 않은 프로세스
  
  - Ready(준비)
  기회가 주어지면 수행될 준비가 되어있는 프로세스
  
  - Running(수행)
  현재 수행 중인 프로세스
  
  - Blocked(블록/대기)
  I/O 작업(입출력 연산) 완료 등과 같은 이벤트가 발생할 때까지 수행될 수 없는 프로세스
  
  - Exit(종료)
  프로세스 수행이 중지되거나, 어떤 이유로 중단되었기 때문에 프로세스 풀에서 방출된 프로세스

# 프로세스와 메모리 공간
메모리는 code(text), data, heap, stack 영역으로 구성되어 있습니다.

Code 영역
실행할 프로그램의 코드가 저장됩니다. CPU는 이 영역에서 명령어를 하나씩 가져와 처리하게 됩니다.

Data 영역
전역변수와 정적변수가 저장됩니다. 이 변수들은 프로그램이 시작될 때 할당되어 프로그램 종료 시 소멸됩니다.
+) 더 자세히 들어가면 BSS(Block Stated Symbol) 영역이 있는데요, 이 영역에는 초기화 되지 않은 전역변수가 저장됩니다. 초기화 된 전역변수는 Data 영역에 저장되어 비휘발성 메모리인 ROM에 저장되는데 이 부분은 비용이 많이 들어 RAM에 저장될 것과 ROM에 저장될 것을 구분하기 위해 영역을 구분해 사용합니다.

Stack 영역
지연변수, 매개변수, 리턴값 등 잠시 사용되었다가 사라지는 데이터를 저장하는 영역입니다. 함수 호출 시 할당되고 함수 반환 시 소멸됩니다. 로드 시(컴파일 타임) 크기가 결정됩니다.

위 세 영역은 컴파일 할 때 data, stack 영역의 크기를 계산해 메모리 영역을 결정합니다!

Heap 영역
동적 데이터 영역입니다. 메모리 주소 값에 의해서만 참조되고 사용되는 영역입니다. 따라서, 프로그램 동작 시(런타임)에 크기가 결정됩니다.

예를 들어, stack에서 pointer 변수를 할당하면 pointer가 가리키는 heap 영역의 임의의 공간부터 원하는 크기만큼 할당해 사용하게 됩니다.

# 스레드란?
스레드(Thread)란 프로세스 내에서 실행되는 흐름의 단위를 의미합니다.
일반적으로 하나의 프로그램은 하나의 스레드를 가지고 있지만, 프로그램의 환경에 따라 다수의 스레드를 동시에 실행할 수 있으며 이러한 실행 방식을 멀티스레드(Multi Thread)라고 합니다.
⚖️ 프로세스 vs 스레드
프로세스 : 별도의 메모리 공간에서 실행
스레드 : 동일한 프로세스 내의 공유 메모리 공간에서 실행

스레드의 장단점
장점
스레드는 하나의 프로세스 내의 자원(코드, 데이터, 힙)을 공유하기 때문에 프로세스에 비해 자원 할당 비용이 적게 들고 문맥 교환(Context Swtich) 비용도 적게 듦
다중 스레드의 경우 일부 스레드의 처리가 지연되더라도 다른 스레드에서 작업을 계속 처리할 수 있음
프로세스 간의 통신은 IPC가 필요한 반면, 스레드는 공유(데이터, 힙) 주소 공간을 사용하여 데이터를 교환할 수 있음
프로세스를 생성하여 자원을 할당하는 시스템 콜이 줄어들어 자원을 효율적으로 관리
단점
하나의 스레드에서 발생한 문제가 프로세스 전반에 영향을 미칠 수 있음
자원을 공유하기 때문에 동기화 문제가 발생할 수 있음


# 프로세스와 쓰레드가 어떤차이가 있는지 예시를 들어 설명해주세요.
프로세스는 최소 하나의 스레드를 보유하고 있으며, 각각 별도의 주소공간을 독립적으로 할당받음.(code,heap,stack)
스레드는 이중에 stack만 따로 할당받고 나머지 영역은 스레드끼리 서로 공유함.

# 쓰레드의 메모리 공간(스택, 데이터, 코드)에대해 설명해주세요.

스레드는 프로세스 내에서 각각 Stack만 할당받고 Code, Data, Heap영역은 공유됩니다. 그리고, 한 프로세스 내에서 동작되는 여러 실행의 흐름이며 프로세스내의 주소공간이나 자원(Heap) 등과 같은 프로세스 내에 스레드끼리 공유하면서 실행이 됩니다. 

# 프로세스 컨텍스트 스위칭
(  
    - 문맥교환은 언제 발생하나요?
    - 문맥 교환 발생 과정에 대해서 조금 더 상세히 설명해주세요.
)

컨텍스트 스위칭(Context Switching)은 CPU가 한 프로세스에서 다른 프로세스로 전환할 때 발생하는 일련의 과정을 말한다. 
CPU는 한 번에 하나의 프로세스만 실행할 수 있으므로, 여러 개의 프로세스를 번갈아가며 실행하여 CPU 활용률을 높이기 위해 컨텍스트 스위칭이 필요한 것이다.  

컨텍스트 스위칭을 좀더 구체적으로 말하자면, 동작 중인 프로세스가 대기를 하면서 해당 프로세스의 상태(Context)를 보관하고, 대기하고 있던 다음 순서의 프로세스가 동작하면서 이전에 보관했던 프로세스의 상태를 복구하는 작업을 말한다. 이러한 컨텍스트 스위칭이 일어날 때 다음번 프로세스는 스케줄러가 결정하게 된다. 즉, 컨텍스트 스위칭을 하는 주체는 스케줄러이다.

# 프로세스 제어 블록 (PCB)
PCB(프로세스 제어 블록)는 운영체제에서 프로세스를 관리하기 위해 해당 프로세스의 상태 정보를 담고 있는 자료구조를 말한다.

프로세스를 컨텍스트 스위칭 할때 기존 프로세스의 상태를 어딘가에 저장해 둬야 다음에 똑같은 작업을 이어서 할 수 있을 것이고, 새로 해야 할 작업의 상태 또한 알아야 어디서부터 다시 작업을 시작할지 결정할 수 있을 것이다. 즉, PCB는 프로세스 스케줄링을 위해 프로세스에 관한 모든 정보 저장하는 임시 저장소인 것이다.
(PCB에는 어떤 정보가 담겨있을까요?)

# 스레드 컨텍스트 스위칭 


https://inpa.tistory.com/entry/%F0%9F%91%A9%E2%80%8D%F0%9F%92%BB-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4-%E2%9A%94%EF%B8%8F-%EC%93%B0%EB%A0%88%EB%93%9C-%EC%B0%A8%EC%9D%B4
출처 https://cocoon1787.tistory.com/849
 멀티 스레딩 환경에서 스레드 간의 실행을 전환하는 기술이다. 프로세스 컨텍스트 스위칭과 다른점은 스레드 컨텍스트 스위칭은 하나의 프로내스 내의 스레드들을 교환한다는 점이다.
.

# TCB(Thread Control Block)
PCB 처럼, TCB(스레드 제어 블록)는 각 스레드마다 운영 체제에서 유지하는 스레드에 대한 정보를 담고 있는 자료구조이다.  
레드의 상태 정보, 스레드 ID, 스레드 우선순위, 스케줄링 정보 등 다양한 정보를 저장한다. TCB도 스레드가 생성될 때 운영 체제에 의해 생성되며, 스레드가 실행을 마치고 소멸될 때 함께 소멸된다.  
 스레드 간의 자원 공유와 동기화도 TCB를 사용하여 관리된다. 예를 들어, 뮤텍스(mutual exclusion)나 세마포어(semaphore)와 같은 동기화 기법을 사용할 때, TCB에서 해당 스레드의 뮤텍스나 세마포어 정보를 관리하고, 스레드가 해당 자원에 대한 접근 권한을 획득하거나 반납할 때 TCB의 정보를 업데이트하게 된다.

# 멀티 프로세스에 대해서 설명해주세요.  
하나의 응용프로그램을 여러 프로세스로 구성하여 각 프로세스가 하나의 Task를 수행하는것을 일컫는 말.
장점 - 여러 개의 자식프로세스 중 하나의 문제가 발생하면 그 자식프로세스만 영향을 받으며 그 외에는 다른 영향을 끼치지 않습니다.
단점 - Context Switching Overhead, 컨섹스트 스위칭 하면서 성능저하가 올수있다. CPU는 다음 프로세스의 정보를 불러오기 위해 메모리를 검색하고, CPU 캐시 메모리를 초기화하며, 프로세스 상태를 저장하고, 불러올 데이터를 준비해야 하기 때문에, 이로 인한 빈번한 Context Switching 작업으로 인해 비용 오버헤드가 발생할 수 있게 된다. 반면 스레드를 컨텍스트 스위칭하면 프로세스 스위칭 보다 가벼워 훨씬 빠르고 좋다.
  
# 멀티 쓰레딩에 대해서 설명해주세요.  
스레드는 하나의 프로세스 내에 있는 실행 흐름이다. 그리고 멀티 스레드는 하나의 프로세스 안에 여러개의 스레드가 있는 것을 말한다. 따라서 하나의 프로그램에서 두가지 이상의 동작을 동시에 처리하도록 하는 행위가 가능해진다.

### 멀티 프로세스는 웹 브라우저에서의 여러 탭이나 여러 창이라고 말했었다. 대신 멀티 스레드는 웹 브라우저의 단일 탭 또는 창 내에서 브라우저 이벤트 루프, 네트워크 처리, I/O 및 기타 작업을 관리하고 처리하는데 사용된다고 보면된다.
장점: 프로세스보다 가벼움, 자원ㅇ늬효율성
단점: 멀티 스레드 모델에서는 기본적으로 하나의 스레드에서 문제가 발생하면 다른 스레드들도 영향을 받아 전체 프로그램이 종료될 수 있다.

# 프로세스 수행 상태 변화 과정에 대해 설명해주세요.  
# fork() 명령어에 대해 설명해주세요.  
# 프로세스끼리 협력하는 방법에 대해서 설명해주세요.  
1) 시작(New) 상태: 프로세스가 시작되어 그 프로세스를 위한 각종 자료구조는 생성되었지만 아직 메모리 획득을 승인받지 못한 상태입니다.
2) 준비(Ready)상태 : 프로세스가 CPU를 할당받기를 기다리는 상태입니다
3) 실행(Running) 상태:프로세스가 CPU를 할당받아 기계어 명령을 수행하는 상태입니다. 한번에 하나의 프로세스만 실행상태 가능
4) 대기/봉쇄(Blocked, Sleep, Wait) 상태: CPU를 할당받더라도 당장 명령을 실행할 수 없는 프로세스의 상태를 말합니다.프로세스가 입출력 요청이나 이벤트 발생 등의 이유로 CPU를 반납하고 기다리는 상태입니다.
5) 중지 대기/봉쇄(Suspended Blocked) 상태: 봉쇄(Blocked) 상태에 있던 프로세스가 중기 스케줄러에 의해 스왑 아웃된 상태입니다.
6) 중지 준비(Suspended Ready) 상태 : 준비(Ready) 상태에 있던 프로세스가 중기 스케줄러에 의해 디스크로 스왑 아웃된 상태입니다.
7) 종료(terminated) 상태 : 프로세스가 수행을 완료하거나 에러 등의 이유로 중단된 상태입니다. 프로세스가 종료되었으나 운영체제가 그 프로세스와 관련된 자료구조를 완전히 정리하지 못한 상태입니다.

# Fork 명령어
fork()는 새로운 프로세스를 위한 메모리를 할당한다. 그리고 fork()를 호출한 프로세스의 PCB 정보을 새로운 공간으로 전부 복사하게 되고, 원래 프로세스는 기존 작업을 계속 실행하게 된다. fork()로 생성된 프로세스 또한 fork() 시스템 콜이 수행된 라인의 다음 라인부터 실행된다. (새로 생성된 프로세스는 원래의 프로세스와 똑같은 코드를 가지게 된다.)



https://velog.io/@yoonuk/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4-%EC%88%98%ED%96%89-%EC%83%81%ED%83%9C-%EB%B3%80%ED%99%94-%EA%B3%BC%EC%A0%95


